<!DOCTYPE html>
<html lang="es" class="dark-mode">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Observatorio de Cambio Clim√°tico - Visualiza y analiza tendencias clim√°ticas en diferentes regiones del mundo">
  <title>Observatorio de Cambio Clim√°tico</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header>
    <button id="themeToggle" class="theme-toggle" aria-label="Cambiar tema">üîÜ</button>
    <h1>Observatorio de Cambio Clim√°tico</h1>
    <p class="subtitle">Explora y analiza tendencias clim√°ticas en diferentes regiones del mundo</p>
  </header>
  
  <main>
    <div class="container">
      <!-- Secci√≥n de visualizaci√≥n de datos -->
      <section id="data-section">
        <div class="input-container">
          <div class="input-group">
            <div class="control-group" id="city1Container">
              <label for="city1">Ciudad 1:</label>
              <input type="text" id="city1" placeholder="Ej: Madrid" aria-label="Ingresa primera ciudad">
            </div>
            
            <div class="control-group" id="city2Container">
              <label for="city2">Ciudad 2:</label>
              <input type="text" id="city2" placeholder="Ej: Barcelona" aria-label="Ingresa segunda ciudad">
            </div>
          </div>
          
          <div class="select-group">
            <div class="control-group">
              <label for="yearRange">Rango de a√±os:</label>
              <select id="yearRange" aria-label="Selecciona rango de a√±os">
                <option value="1980-2023">1980-2023</option>
                <option value="1990-2023">1990-2023</option>
                <option value="2000-2023">2000-2023</option>
                <option value="2010-2023">2010-2023</option>
              </select>
            </div>
            
            <div class="control-group">
              <label for="chartMode">Tipo de gr√°fico:</label>
              <select id="chartMode" aria-label="Selecciona tipo de gr√°fico">
                <option value="bars">Barras</option>
                <option value="lines">L√≠neas</option>
              </select>
            </div>
            
            <div class="control-group">
              <label for="viewMode">Modo de vista:</label>
              <select id="viewMode" aria-label="Selecciona modo de vista">
                <option value="single">Simple</option>
                <option value="compare">Comparativa</option>
              </select>
            </div>
          </div>
          
          <button class="viz-button" id="visualizeBtn" onclick="loadData()">Visualizar datos</button>
        </div>
        
        <div class="chart-container">
          <!-- El gr√°fico se dibujar√° aqu√≠ -->
        </div>
        
        <div id="chartLegend" class="legend"></div>
        
        <div id="summary" class="summary-box"></div>
      </section>
      
      <!-- Panel de expertos -->
      <section id="experts-section">
        <h2>Opiniones de Expertos sobre el Cambio Clim√°tico</h2>
        <div class="experts-container">
          <div class="expert-card">
            <div class="expert-header">
              <div class="expert-avatar">üë©‚Äçüî¨</div>
              <div class="expert-info">
                <h3>Dra. Adelle Thomas</h3>
                <span class="expert-role">Autora principal del informe del IPCC</span>
              </div>
            </div>
            <blockquote class="expert-quote">
              "La influencia humana ha calentado incuestionablemente la atm√≥sfera, el oc√©ano y la tierra. Los cambios clim√°ticos generalizados y r√°pidos ya est√°n ocurriendo."
            </blockquote>
            <cite>Fuente: Naciones Unidas, 2023</cite>
          </div>
          
          <div class="expert-card">
            <div class="expert-header">
              <div class="expert-avatar">üë®‚Äçüî¨</div>
              <div class="expert-info">
                <h3>Dr. Gavin Schmidt</h3>
                <span class="expert-role">Director del Instituto Goddard de la NASA</span>
              </div>
            </div>
            <blockquote class="expert-quote">
              "Cada d√©cada desde los a√±os 60 ha sido m√°s c√°lida que la anterior. La ciencia es inequ√≠voca y las evidencias son abrumadoras."
            </blockquote>
            <cite>Fuente: NASA Ciencia, 2024</cite>
          </div>
          
          <div class="expert-card">
            <div class="expert-header">
              <div class="expert-avatar">üë©‚Äçüè´</div>
              <div class="expert-info">
                <h3>Dra. Ko Barrett</h3>
                <span class="expert-role">Secretaria General Adjunta de la OMM</span>
              </div>
            </div>
            <blockquote class="expert-quote">
              "Las estad√≠sticas revelan la cruda realidad: estamos muy lejos de cumplir los objetivos del Acuerdo de Par√≠s."
            </blockquote>
            <cite>Fuente: Organizaci√≥n Meteorol√≥gica Mundial, 2023</cite>
          </div>
        </div>
      </section>
      
      <!-- Secci√≥n de causas y soluciones -->
      <section id="climate-info">
        <div class="info-columns">
          <div class="info-column">
            <h2>Causas del cambio clim√°tico</h2>
            <div class="info-content">
              <div class="info-item">
                <h3>üè≠ Emisiones de gases de efecto invernadero</h3>
                <p>La quema de combustibles f√≥siles para energ√≠a, transporte e industria libera CO‚ÇÇ que intensifica el efecto invernadero.</p>
              </div>
              <div class="info-item">
                <h3>üå≤ Deforestaci√≥n</h3>
                <p>La tala de bosques reduce la capacidad del planeta para absorber CO‚ÇÇ y libera el carbono almacenado en los √°rboles.</p>
              </div>
            </div>
          </div>
          
          <div class="info-column">
            <h2>Soluciones clim√°ticas</h2>
            <div class="info-content">
              <div class="info-item">
                <h3>‚ôªÔ∏è Energ√≠as renovables</h3>
                <p>Transici√≥n a fuentes como solar, e√≥lica e hidroel√©ctrica para reducir emisiones de carbono.</p>
              </div>
              <div class="info-item">
                <h3>üå≥ Reforestaci√≥n</h3>
                <p>Proteger bosques existentes y restaurar ecosistemas degradados para aumentar la captura de carbono.</p>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Secci√≥n de estad√≠sticas globales -->
      <section id="global-stats">
        <h2>Estad√≠sticas globales del cambio clim√°tico</h2>
        <div class="stats-grid">
          <div class="stat-card">
            <div class="stat-value">+1.1¬∞C</div>
            <div class="stat-label">Aumento de temperatura global desde era preindustrial</div>
            <div class="trend-indicator trend-up">‚Üë Aumentando</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">420 ppm</div>
            <div class="stat-label">Concentraci√≥n actual de CO‚ÇÇ en la atm√≥sfera</div>
            <div class="trend-indicator trend-up">‚Üë R√©cord hist√≥rico</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">3.4 mm</div>
            <div class="stat-label">Aumento anual del nivel del mar</div>
            <div class="trend-indicator trend-up">‚Üë Acelerando</div>
          </div>
          <div class="stat-card">
            <div class="stat-value">-13.1%</div>
            <div class="stat-label">P√©rdida de hielo √°rtico por d√©cada</div>
            <div class="trend-indicator trend-up">‚Üë Empeorando</div>
          </div>
        </div>
      </section>
    </div>
  </main>
  
  <footer>
    <div class="container">
      <p>Observatorio de Cambio Clim√°tico ¬© 2025 | Datos clim√°ticos: <a href="https://open-meteo.com/" target="_blank" rel="noopener">Open-Meteo</a></p>
      <p class="eco-badge">üçÉ Sitio web desarrollado con principios de sostenibilidad digital</p>
    </div>
  </footer>

  <script src="sketch.js"></script>
  <script>
    // Variables globales
    let ready = false;
    
    // Alternar entre modo claro y oscuro
    document.getElementById('themeToggle').addEventListener('click', function() {
      document.documentElement.classList.toggle('dark-mode');
      this.textContent = document.documentElement.classList.contains('dark-mode') ? 'üîÜ' : 'üåô';
      if (typeof redraw === 'function' && ready) {
        redraw();
      }
    });
    
    // Inicializar - Mostrar/ocultar campo Ciudad 2 seg√∫n el modo de vista
    document.addEventListener('DOMContentLoaded', function() {
      const viewMode = document.getElementById('viewMode');
      const city2Container = document.getElementById('city2Container');
      
      function updateCity2Visibility() {
        city2Container.style.display = viewMode.value === 'compare' ? 'block' : 'none';
      }
      
      viewMode.addEventListener('change', updateCity2Visibility);
      
      // Set initial visibility
      updateCity2Visibility();
    });
  </script>
</body>
</html>
